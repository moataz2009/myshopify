{% render 'buy-bar', product: all_products[collection.handle] %}

{% assign wClass = 'w-full md:w-11/12 lg:w-10/12 max-w-screen-xl mx-auto' %}
{% assign wClass_8 = 'w-full md:w-11/12 lg:w-10/12 xl:w-8/12 max-w-screen-xl mx-auto' %}
{% assign wClass_6 = 'w-full md:w-10/12 lg:w-8/12 xl:w-6/12 max-w-screen-xl mx-auto' %}
{% assign pdClass = 'px-3 sm:px-6 md:px-0 py-16 sm:py-20 lg:py-28' %}
{% assign pdClass_b = 'px-3 sm:px-6 md:px-0 pb-16 sm:pb-20 lg:pb-28' %}
{% assign titleBoxClass= 'mx-auto mb-12 w-11/12 sm:w-5/6 md:w-2/3 xl:w-2/5' %}
{% assign titleSize = 'text-2xl md:text-3xl font-bold' %}
{% assign descSize = 'text-sm sm:text-base text-gray-400' %}
{% assign titleDecoMy = 'block mt-4 mb-6' %}

<div class="relative section-hero">
  <div class="absolute w-full h-full pt-12 px-12 sm:pt-0">
    <div
      class="w-full md:w-11/12 lg:w-10/12 max-w-screen-xl mx-auto h-full flex justify-center sm:justify-start sm:items-center text-center sm:text-left">
      <div>
        <h1 class="{{titleSize}} lg:text-4xl mb-4">MagEZ Car Mount Lite</h1>
        <p class="text-xl md:text-2xl text-gray-400 max-w-sm sm:max-w-md  xl:max-w-xl">
          The MagSafe Car Mount Holds Your Phone Securely
          in Place While You Drive.
        </p>
      </div>
    </div>
  </div>
  <picture>
    <source data-srcset="{{'magez-car-mount-lite-section1.jpg' | asset_url}}" media="(min-width: 1281px)">
    <source data-srcset="{{'magez-car-mount-lite-section1-m.jpg' | asset_url}}" media="(min-width: 768px)">
    <img src="{{ placeholder_gif }}" data-src="{{'magez-car-mount-lite-section1-s.jpg' | asset_url}}"
      alt="MagEZ Car Mount Lite" class="block w-full lazyload">
  </picture>
</div>

<div class="w-full bg-gray-850">
  <div class="{{wClass_8}} {{pdClass}}">
    <div class="{{titleBoxClass}} xl:w-3/5 text-left sm:text-center">
      <h3 class="{{titleSize}}">
        Strong MagSafe Connection.
      </h3>
      <img src="{{ 'triggle_pixel-d.svg' | asset_url }}" class="{{titleDecoMy}} sm:mx-auto">
      <p class="{{descSize}}">
        Conveniently attach your smartphone to the MagSafe car mount with a single hand for a secure hold while
        traveling.
      </p>
    </div>
    <picture>
      <source data-srcset="{{'magez-car-mount-lite-section2.jpg' | asset_url}}" media="(min-width: 1281px)">
      <source data-srcset="{{'magez-car-mount-lite-section2-m.jpg' | asset_url}}" media="(min-width: 768px)">
      <img src="{{ placeholder_gif }}" data-src="{{'magez-car-mount-lite-section2-s.jpg' | asset_url}}"
        alt="MagEZ Car Mount Lite" class="block w-full lazyload">
    </picture>
  </div>
</div>
<div class="w-full bg-gray-800">
  <div class="{{wClass_8}} {{pdClass}} flex flex-col sm:flex-row sm:justify-between sm:items-center  min-h-768">
    <div class="mb-12 sm:mb-0 w-11/12 sm:w-3/8 text-left ">
      <h3 class="{{titleSize}}">
        Innovative Co-molding Technique.
      </h3>
      <img src="{{ 'triggle_pixel-d.svg' | asset_url }}" class="{{titleDecoMy}}">
      <p class="{{descSize}}">
        By combining aramid fiber and TPU, the MagSafe car mount has a textured surface that helps keep your phone held
        firmly in place.
      </p>
    </div>
    <div class="w-11/12 sm:w-1/2">
      <picture>
        <img src="{{ placeholder_gif }}" data-src="{{'magez-car-mount-lite-section3.png' | asset_url}}"
          alt="MagEZ Car Mount Lite" class="block w-full lazyload">
      </picture>
    </div>
  </div>
</div>

<div class="relative section-hero">
  <div class="sm:absolute w-full h-full sm:py-0">
    <div
      class="w-full md:w-10/12 lg:w-8/12 xl:w-6/12 px-3 sm:px-6 md:px-0 py-16 sm:py-20 lg:py-28 max-w-screen-xl mx-auto h-full flex justify-center sm:justify-end sm:items-center text-left sm:text-left">
      <div class="max-w-sm md:max-w-md">
        <h3 class="{{titleSize}} ">
          An Ultra-Streamlined Aesthetic.
        </h3>
        <img src="{{ 'triggle_pixel-d.svg' | asset_url }}" class="{{titleDecoMy}}">
        <p class="{{descSize}}">
          The car mount not only works good but looks good. With an upgraded sleek design and the unique aramid fiber
          weave, it offers style and easily fits into your cool vehicle.
        </p>
      </div>
    </div>
  </div>
  <picture>
    <source data-srcset="{{'magez-car-mount-lite-section4.jpg' | asset_url}}" media="(min-width: 1281px)">
    <source data-srcset="{{'magez-car-mount-lite-section4-m.jpg' | asset_url}}" media="(min-width: 768px)">
    <img src="{{ placeholder_gif }}" data-src="{{'magez-car-mount-lite-section4-s.jpg' | asset_url}}"
      alt="MagEZ Car Mount Lite" class="block w-full lazyload">
  </picture>
</div>

<div class="w-full bg-gray-800">
  <div class="{{wClass_8}} px-3 sm:px-6 md:px-0 pt-16 pb-16 sm:pt-20 sm:pt-28 lg:pt-28 lg:pb-44 flex flex-col-reverse sm:flex-row items-end justify-between">
    <div class="w-full mt-10 sm:w-5/8 sm:mt-0">
      <img src="{{ placeholder_gif }}" data-src="{{'magez-car-mount-lite-section5-1.png' | asset_url}}"
        alt="MagEZ Car Mount Lite" class="block w-full object-fit lazyload">
    </div>
    <div class="w-full sm:w-3/8 grid grid-cols-1 gap-4 sm:gap-0 sm:auto-rows-fr pl-0 sm:pl-6 laptop:pl-12 md:pl-20">
      <div class="w-6/8 sm:w-full place-self-start laptop:place-self-center">
        <div>
          <h3 class="{{titleSize}}">
            Secure Attachment
          </h3>
          <img src="{{ 'triggle_pixel-d.svg' | asset_url }}" class="{{titleDecoMy}}">
          <p class="{{descSize}}"> 
            The smart hook system has stabilising grooves on both sides to firmly hook onto different car vents for
            a balance and sturdy mount.
          </p>
        </div>
      </div>
      <img src="{{ placeholder_gif }}" data-src="{{'magez-car-mount-lite-section5-2.jpg' | asset_url}}"
        alt="MagEZ Car Mount Lite" class="block w-full place-self-end lazyload">
    </div>

  </div>
</div>

<div class="w-full bg-gray-850">
  <div class="{{wClass_8}} {{pdClass}} flex flex-col sm:flex-row sm:justify-between sm:items-center">
    <div class="mb-12 sm:mb-0 w-11/12 sm:w-3/8 text-left ">
      <h3 class="{{titleSize}}">
        Strong Suction Force.
      </h3>
      <img src="{{ 'triggle_pixel-d.svg' | asset_url }}" class="{{titleDecoMy}}">
      <p class="{{descSize}} mb-4">
        Lock the mount in place on your dash with the suction cup and dashboard pad*.
      </p>
      <p class="{{descSize}}">
        *For Suction Cup model only.
      </p>

    </div>
    <div class="w-11/12 sm:w-1/2">
      <picture>
        <img src="{{ placeholder_gif }}" data-src="{{'magez-car-mount-lite-section6.png' | asset_url}}"
          alt="MagEZ Car Mount Lite" class="block w-full lazyload">
      </picture>
    </div>

  </div>
</div>

<div class="w-full bg-gray-800">
  <div class="{{wClass}} {{pdClass}}">
    <picture>
      <source media="(min-width: 1281px )" srcset="{{'magez-car-mount-lite-section7.jpg' | asset_url}}">
      <source media="(min-width: 768px )" srcset="{{'magez-car-mount-lite-section7-m.jpg' | asset_url}}">
      <img src="{{ placeholder_gif }}" data-src="{{'magez-car-mount-lite-section7-s.jpg' | asset_url}}"
        alt="MagEZ Car Mount Lite" class="block w-full mb-6 lazyload">
    </picture>
    <picture>
      <source media="(min-width: 1281px )" srcset="{{'magez-car-mount-lite-section8.jpg' | asset_url}}">
      <source media="(min-width: 768px )" srcset="{{'magez-car-mount-lite-section8-m.jpg' | asset_url}}">
      <img src="{{ placeholder_gif }}" data-src="{{'magez-car-mount-lite-section8-s.jpg' | asset_url}}"
        alt="MagEZ Car Mount Lite" class="block w-full lazyload">
    </picture>
  </div>
</div>

<style>
  #scroll-plus {
    max-width: unset;
    width: 200%;
    margin-left: -100%;
  }

  .section-hero {
    min-height: 35vw;
  }

  .section8 {
    height: 512px;
  }

  @media screen and (min-width:1921px) {
    .section8 {
      height: auto;
    }
  }
  @media screen and (min-width:768px) {
    .min-h-768 {
      min-height: 768px;
    }
  }
</style>

{%- comment -%}
<script>
  var images = [
    "{{ 'magez-car-mount-lite-section5-1.jpg' | asset_url }}",
    "{{ 'magez-car-mount-lite-section5-2.jpg' | asset_url }}",
    "{{ 'magez-car-mount-lite-section5-3.jpg' | asset_url }}"
  ];
  var obj = {
    curImg: 0
  };
  var tween = TweenMax.to(obj, 1, {
    curImg: images.length - 1,
    roundProps: "curImg",
    repeat: 0,
    immediateRender: true,
    ease: Linear.easeNone,
    onUpdate: function () {
      $("#twist-item").attr("src", images[obj.curImg]);
      $("#twist-item").css("opacity", 1);
    }
  });
  var controller = new ScrollMagic.Controller();
  var scene = new ScrollMagic.Scene({
      triggerElement: "#trigger",
      duration: 500,
      offset: -50
    })
    .setTween(tween)
    .addTo(controller);
</script>
{%- endcomment -%}

{{ 'TweenMax.min.js' | asset_url | script_tag }}
{{ 'ScrollMagic.js' | asset_url | script_tag }}
{{ 'animation.gsap.min.js' | asset_url | script_tag }}

<script>
  $(document).ready(function () {
    let parallexH = window.innerHeight * 2;
    let controller = new ScrollMagic.Controller();

    var tl = new TimelineLite();
    tl
      .to('#scroll-img-1', 0.5, {
        opacity: 0
      })
      .to('#scroll-img-2', 0.5, {
        opacity: 1
      }, '-=0.3')
      // .to('#scroll-img-3', 0.5, {
      //   opacity: 1
      // })
      .to('#scroll-plus', 0.1, {
        opacity: 1,
        onComplete: function () {
          $("#scroll-plus").attr("src", "{{ 'magez-car-mount-lite-section5-3-plus.gif' | asset_url }}");
        },
        onReverseComplete: function () {
          $("#scroll-plus").attr("src", "");
        }
      })
      .to('#scroll-hidden', 0.2, {
        opacity: 1
      }, '+=0.3');

    let sc = new ScrollMagic.Scene({
        triggerElement: '.parallexScroll',
        triggerHook: 0,
        duration: '300%',
        tweenChanges: true
      })
      .setTween(tl)
      .setPin('.parallexScroll')
      .addTo(controller)
  });
</script>