{% render 'buy-bar', product: all_products[collection.handle] %}

{% assign wClass = 'w-full md:w-11/12 lg:w-10/12 max-w-screen-xl mx-auto' %}
{% assign wClass_8 = 'w-full md:w-11/12 lg:w-10/12 xl:w-8/12 max-w-screen-xl mx-auto' %}
{% assign wClass_6 = 'w-full md:w-10/12 lg:w-8/12 xl:w-6/12 max-w-screen-xl mx-auto' %}
{% assign pdClass = 'px-3 sm:px-6 md:px-0 py-16 sm:py-20 lg:py-28' %}
{% assign pdClass_t = 'px-3 sm:px-6 md:px-0 pt-16 sm:pt-20 lg:pt-28' %}
{% assign titleBoxClass= 'mx-auto mb-12 w-11/12 sm:w-5/6 md:w-2/3 xl:w-2/5' %}
{% assign titleSize = 'text-2xl md:text-3xl font-bold' %}
{% assign descSize = 'text-sm sm:text-base text-gray-400' %}
{% assign titleDecoMy = 'block mt-4 mb-6' %}

{% assign absoluteContentClass = 'text-center absolute transform w-11/12 sm:w-3/5 xl:w-1/3 top-12 md:top-20 left-1/2 -translate-x-1/2 max-w-md' %}

<div class="w-full relative section-hero">
  <div class="{{absoluteContentClass}}">
    <h1 class="text-xl md:text-2xl font-bold mb-2">Fusion Weaving Case for iPhone</h1>
    <h3 class="{{titleSize}}">
      Weave Your Style.
    </h3>
  </div>
  <picture>
    <source data-srcset="{{'fusion-weaving-magez-case2-i13-section1.webp' | asset_url}}" media="(min-width: 1280px)">
    <source data-srcset="{{'fusion-weaving-magez-case2-i13-section1-m.webp' | asset_url}}" media="(min-width: 768px)">
    <img src="{{ placeholder_gif }}" data-src="{{'fusion-weaving-magez-case2-i13-section1-s.webp' | asset_url}}"
      alt="Fusion Weaving MagEZ Case 2 for iPhone 13 Series" class="block w-full h-full object-cover lazyload">
  </picture>
</div>

<div class="{{wClass_8}} {{pdClass}}">
  {% render 'video-set' , name:'collection-fusion-weaving-section8-v', coverName:'collection-fusion-weaving-section8-cover'%}
</div>

<div class="w-full">
  <div class="mx-auto mb-12 w-11/12 sm:w-3/5 md:w-1/3 xl:w-1/4">
    <h3 class="{{titleSize}}">
      Designs That Style Up Your iPhone 13 Series
    </h3>
    <img src="{{ 'triggle_pixel-d.svg' | asset_url }}" class="{{titleDecoMy}}">
    <p class="{{descSize}}">
      Our Fusion Weaving™ cases for the iPhone 13 lineup were selected to style up your phone.
      Choose from four designs to fit your look: Overture, Rhapsody, Concerto, and Sonata.
    </p>
  </div>

  <div class="swiper-container full-slider w-full">
    <div class="swiper-wrapper">
      <div class="swiper-slide">
        <picture>
          <source data-srcset="{{'fusion-weaving-magez-case2-i13-section3-1.webp' | asset_url }}"
            media="(min-width: 768px)">
          <img src="{{ placeholder_gif }}" data-src="{{'fusion-weaving-magez-case2-i13-section3-1-s.webp' | asset_url}}"
            alt="Fusion Weaving MagEZ Case 2 for iPhone 13 Series" class="block w-full h-full object-cover lazyload">
        </picture>
      </div>
      <div class="swiper-slide">
        <picture>
          <source data-srcset="{{'fusion-weaving-magez-case2-i13-section3-2.webp' | asset_url }}"
            media="(min-width: 768px)">
          <img src="{{ placeholder_gif }}" data-src="{{'fusion-weaving-magez-case2-i13-section3-2-s.webp' | asset_url}}"
            alt="Fusion Weaving MagEZ Case 2 for iPhone 13 Series" class="block w-full h-full object-cover lazyload">
        </picture>
      </div>
      <div class="swiper-slide">
        <picture>
          <source data-srcset="{{'fusion-weaving-magez-case2-i13-section3-3.webp' | asset_url}}"
            media="(min-width: 768px)">
          <img src="{{ placeholder_gif }}" data-src="{{'fusion-weaving-magez-case2-i13-section3-3-s.webp' | asset_url}}"
            alt="Fusion Weaving MagEZ Case 2 for iPhone 13 Series" class="block w-full h-full object-cover lazyload">
        </picture>
      </div>
      <div class="swiper-slide">
        <picture>
          <source data-srcset="{{'fusion-weaving-magez-case2-i13-section3-4.webp' | asset_url}}"
            media="(min-width: 768px)">
          <img src="{{ placeholder_gif }}" data-src="{{'fusion-weaving-magez-case2-i13-section3-4-s.webp' | asset_url}}"
            alt="Fusion Weaving MagEZ Case 2 for iPhone 13 Series" class="block w-full h-full object-cover lazyload">
        </picture>
      </div>
    </div>
    <div class="swiper-button-prev swiper-button-white"></div>
    <div class="swiper-button-next swiper-button-white"></div>
  </div>
</div>

<div id="trigger_sec"></div>
<div class="w-full bg-gray-800 px-3 sm:px-6 md:px-0 pt-16 sm:pt-20">
  <div class="{{wClass_8}} h-768 flex flex-col sm:flex-row items-center justify-between">
    <div class="w-full sm:w-1/2 md:w-3/8 -mb-24 sm:mb-0">
      <h3 class="{{titleSize}}">
        MagSafe and Wireless<br>
        Charging Compatible
      </h3>
      <img src="{{ 'triggle_pixel-d.svg' | asset_url }}" class="{{titleDecoMy}}">
      <p class="{{descSize}}">
        Designed for MagSafe compatibility to ensure a secure, convenient attachment with MagSafe chargers or
        accessories. Charge your iPhone 13 using any standard Qi-certified wireless charger without removing your case.
      </p>

      <p class="text-sm text-gray-400 mt-8">
        Work with MagEZ<sup>&reg;</sup> 2.0 System.
        <sup><a href="/collections/magez-system" title="Learn More about Our MagEZ System">
            <span class="inline-block bg-gray-750 rounded-full w-4 h-4 text-center text-xs text-gray-400">?</span>
          </a></sup>
      </p>
    </div>

    <div class="pt-anim-container min-h-70 w-full h-full flex items-end sm:w-1/2 lg:w-1/3">
      <div class="pt-anim-pictures relative mx-auto">
        <div id="trigger_line"></div>
        <img src="{{ placeholder_gif }}"
          data-src="{{ 'fusion-weaving-magez-case2-i13-section4-phone.webp' | asset_url }}"
          alt="Fusion Weaving MagEZ Case 2 for iPhone 13 Series" class="block lazyload">
        <div class="pt-anim-item absolute" id="anim-item">
          <img src="{{ placeholder_gif }}"
            data-src="{{ 'fusion-weaving-magez-case2-i13-section4-magsafe.webp' | asset_url }}" class="block lazyload">
        </div>
      </div>
    </div>
  </div>
</div>

<div class="relative w-full h-768">
  <div
    class="absolute w-5/6 sm:w-3/4 lg:w-5/12 left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 text-center">
    <h3 class="{{titleSize}}">
      Style on the Next Level
    </h3>
    <img src="{{ 'triggle_pixel-d.svg' | asset_url }}" class="{{titleDecoMy}} mx-auto">
    <p class="text-sm sm:text-base">
      Our new technique - <a href="/collections/fusion-weaving-series" class="text-cyan">Fusion Weaving™</a>
      allows two or more weaving styles to appear on the same piece of aramid fiber fabric. Fusion Weaving™ cases feature
      excellent three-dimensional effects and more intricate designs with various colors.
    </p>
  </div>
  <picture>
    <source data-srcset="{{'fusion-weaving-magez-case2-i13-section5.webp' | asset_url}}" media="(min-width: 1280px)">
    <source data-srcset="{{'fusion-weaving-magez-case2-i13-section5-m.webp' | asset_url}}" media="(min-width: 768px)">
    <img src="{{ placeholder_gif }}" data-src="{{'fusion-weaving-magez-case2-i13-section5-s.webp' | asset_url}}"
      alt="Fusion Weaving MagEZ Case 2 for iPhone 13 Series" class="block w-full sm:h-full object-cover lazyload">
  </picture>
</div>

<div class="{{wClass_8}} h-768 min-h-70 {{pdClass}} flex flex-col sm:flex-row items-center justify-between">
  <div class="w-full sm:w-1/2 lg:w-3/8 sm:pr-8 lg:pr-0">
    <h3 class="{{titleSize}}">
      Better Grip with<br>
      More Comfort
    </h3>
    <img src="{{ 'triggle_pixel-d.svg' | asset_url }}" class="{{titleDecoMy}}">
    <p class="{{descSize}}">
      Our unique vacuum forming process, 3D Grip Technology, creates a tactile,
      nonslip surface texture for exceptional grip and comfort.
    </p>
  </div>

  <div
    class="w-full sm:w-1/2 sm:bg-gray-820 h-520 flex justify-end items-center transform translate-x-3 sm:transform-none">
    <picture class="block w-full sm:w-5/6">
      <img src="{{ placeholder_gif }}" data-src="{{'fusion-weaving-magez-case2-i13-section6.webp' | asset_url}}"
        alt="Fusion Weaving MagEZ Case 2 for iPhone 13 Series" class="block w-full lazyload">
    </picture>
  </div>
</div>

<div class="w-full {{pdClass}} bg-gray-800">
  <div class="{{wClass}}">
    <div class="mx-auto mb-12 w-11/12 sm:w-2/3 lg:w-2/5">
      <h3 class="{{titleSize}}">
        Precision Manufacturing<br>
        for the Perfect Fit
      </h3>
      <img src="{{ 'triggle_pixel-d.svg' | asset_url }}" class="{{titleDecoMy}}">
      <p class="{{descSize}}">
        Designed and flawlessly formed to fit every curve, button, and cut out.
      </p>
    </div>

    {% render 'center-slides', name:'Fusion Weaving MagEZ Case 2 for iPhone 13 Series', picName:'slider-fusion-weaving-magezcase2-i13' %}
  </div>
</div>

<div class="{{wClass}} {{pdClass}} grid laptop:grid-cols-3 gap-6">
  <picture>
    <img src="{{ placeholder_gif }}" data-src="{{'fusion-weaving-magez-case2-i13-section8-1.webp' | asset_url}}"
      alt="Fusion Weaving MagEZ Case 2 for iPhone 13 Series" class="block w-full lazyload">
  </picture>
  <picture>
    <img src="{{ placeholder_gif }}" data-src="{{'fusion-weaving-magez-case2-i13-section8-2.webp' | asset_url}}"
      alt="Fusion Weaving MagEZ Case 2 for iPhone 13 Series" class="block w-full lazyload">
  </picture>
  {%comment%}
  <picture>
    <img src="{{ placeholder_gif }}" data-src="{{'fusion-weaving-magez-case2-i13-section8-3.webp' | asset_url}}"
      alt="Fusion Weaving MagEZ Case 2 for iPhone 13 Series" class="block w-full lazyload">
  </picture>
  {%endcomment%}
  <picture>
    <img src="{{ placeholder_gif }}" data-src="{{'fusion-weaving-magez-case2-i13-section8-4.webp' | asset_url}}"
      alt="Fusion Weaving MagEZ Case 2 for iPhone 13 Series" class="block w-full lazyload">
  </picture>
</div>

<style>
  .min-h-70 {
    min-height: 80vh;
  }

  .min-h-768 {
    min-height: 768px;
    height: auto;
  }

  .h-520 {
    height: 520px;
  }

  .h-768 {
    height: 768px;
  }

  .full-slider {
    height: 768px;
  }

  .swiper-button-prev {
    left: 4rem;
  }

  .swiper-button-next {
    right: 4rem;
  }

  .section-hero {
    min-height: 128vw;
  }

  @media screen and (min-width:768px){
    .section-hero {
      min-height: 60vw;
    }
  }

  @media screen and (min-width:1280px){
    .section-hero {
      min-height: 40vw;
    }
  }

  @media screen and (min-width:1920px) {

    .full-slider,
    .h-768 {
      height: auto;
    }

    .min-h-70 {
      min-height: 70vh;
    }
  }

  @media screen and (max-width:1024px) {
    .swiper-button-prev {
      left: 2rem;
    }

    .swiper-button-next {
      right: 2rem;
    }

    .min-h-70 {
      min-height: unset;
    }

    .h-768 {
      height: auto;
    }

    .h-520 {
      height: 384px;
    }
  }

  @media screen and (max-width:767px) {
    .full-slider {
      height: auto;
      --swiper-navigation-size: 30px;
    }

    .swiper-button-prev {
      left: 1rem;
    }

    .swiper-button-next {
      right: 1rem;
    }
  }
</style>

<script>
  var swiper_main = new Swiper('.full-slider', {
    autoplay: {
      delay: 4000,
      stopOnLastSlide: false,
      disableOnInteraction: true,
    },
    observer: true,
    loop: true,
    observeParents: true,
    navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev',
    }
  });
</script>

<!-- anim-pictures -->
<style>
  .pt-anim-item {
    bottom: 0;
    right: 0;
  }

  .pt-anim-pictures {
    width: 297px;
  }

  @media screen and (max-width:1024px) {
    .pt-anim-container {
      transform: scale(0.85);
      transform-origin: bottom center;
    }
  }

  @media screen and (max-width:767px) {
    .pt-anim-container {
      transform: scale(0.7);
    }
  }
</style>

{{ 'TweenMax.min.js' | asset_url | script_tag }}
{{ 'ScrollMagic.js' | asset_url | script_tag }}
{{ 'animation.gsap.min.js' | asset_url | script_tag }}

<script>
  $(function () {
    // init controller
    var controller = new ScrollMagic.Controller();
    // build tween
    var tween = TweenMax.to("#anim-item", 0.5, {
      x: -100,
      y: 0,
      ease: Linear.easeNone
    });

    if (window.innerWidth > 768) {
      // build scene
      var scene = new ScrollMagic.Scene({
          triggerElement: "#trigger_sec",
          duration: 300,
          onLeave: true,
        })
        .setTween(tween)
        .addTo(controller);

    } else {
      // build scene
      var scene = new ScrollMagic.Scene({
          triggerElement: "#trigger_line",
          duration: 300,
          onLeave: true,
        })
        .setTween(tween)
        .addTo(controller);
    }
  });
</script>